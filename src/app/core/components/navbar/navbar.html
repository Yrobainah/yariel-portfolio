<header
  class="fixed inset-x-0 top-0 z-50 h-14 md:h-16 backdrop-blur border-b border-[var(--nav-border)] overflow-hidden bg-[var(--nav-bg)] text-[var(--link)]"
>
  <nav class="max-w-6xl mx-auto h-full px-4 flex items-center justify-between">
    <!-- Logo -->
    <a href="#home" aria-label="Ir al inicio" class="inline-flex items-center">
      <img
        src="assets/logo-yrh.png"
        alt="Logo"
        class="h-10 md:h-12 w-auto object-contain"
      />
    </a>

    <!-- Navegaci√≥n desktop -->
    <ul class="hidden md:flex items-center gap-7 text-sm font-medium">
      <li>
        <a
          href="#about"
          class="relative transition-colors duration-300 hover:text-[var(--link)] after:absolute after:left-0 after:bottom-[-4px] after:h-[1px] after:w-0 after:bg-[var(--link)] after:transition-all after:duration-300 hover:after:w-full"
          >Sobre m√≠</a
        >
      </li>
      <li>
        <a
          href="#projects"
          class="relative transition-colors duration-300 hover:text-[var(--link)] after:absolute after:left-0 after:bottom-[-4px] after:h-[1px] after:w-0 after:bg-[var(--link)] after:transition-all after:duration-300 hover:after:w-full"
          >Proyectos</a
        >
      </li>
      <li>
        <a
          href="#services"
          class="relative transition-colors duration-300 hover:text-[var(--link)] after:absolute after:left-0 after:bottom-[-4px] after:h-[1px] after:w-0 after:bg-[var(--link)] after:transition-all after:duration-300 hover:after:w-full"
          >Servicios</a
        >
      </li>
      <li>
        <a
          href="#contact"
          class="relative transition-colors duration-300 hover:text-[var(--link)] after:absolute after:left-0 after:bottom-[-4px] after:h-[1px] after:w-0 after:bg-[var(--link)] after:transition-all after:duration-300 hover:after:w-full"
          >Contacto</a
        >
      </li>

      <!-- Toggle dark en desktop: icono + texto -->
      <li>
        <button
          (click)="theme.toggle()"
          class="hidden md:inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-800 text-slate-200 ring-1 ring-slate-700 hover:bg-slate-700 transition cursor-pointer"
          aria-label="Cambiar tema"
        >
          <span>{{ theme.isDark ? 'üåô' : '‚òÄÔ∏è' }}</span>
          <span> {{ theme.isDark ? 'Oscuro' : 'Claro' }}</span>
        </button>
      </li>
    </ul>

    <!-- Zona derecha en m√≥vil: icono dark + hamburguesa -->
    <div class="md:hidden flex items-center gap-2">
      <!-- Toggle dark en m√≥vil: SOLO icono (no texto) -->
      <button
        (click)="theme.toggle()"
        class="inline-flex items-center justify-center h-10 w-10 rounded-lg text-slate-200 hover:bg-slate-800/60 focus:outline-none focus:ring-2 focus:ring-blue-400"
        aria-label="Cambiar tema"
      >
        <span class="text-lg">{{ theme.isDark ? 'üåô' : '‚òÄÔ∏è' }}</span>
      </button>

      <!-- Bot√≥n hamburguesa (visible en m√≥vil) -->
      <button
        class="inline-flex items-center justify-center h-10 w-10 rounded-lg text-[var(--muted)] hover:bg-slate-800/60 focus:outline-none focus:ring-2 focus:ring-blue-400"
        (click)="toggleMenu()"
        [attr.aria-expanded]="isMenuOpen"
        aria-controls="mobile-menu"
        aria-label="Abrir men√∫"
      >
        @if (!isMenuOpen) {
        <svg
          class="h-6 w-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-width="2"
            d="M4 7h16M4 12h16M4 17h16"
          ></path>
        </svg>
        } @if (isMenuOpen) {
        <svg
          class="h-6 w-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-width="2"
            d="M6 6l12 12M18 6l-12 12"
          ></path>
        </svg>
        }
      </button>
    </div>
  </nav>
</header>

<!-- Overlay -->
@if (isMenuOpen) {
<div
  class="fixed inset-0 z-40 bg-slate-900/60 backdrop-blur-sm md:hidden"
  (click)="closeMenu()"
></div>
}

<!-- Panel lateral m√≥vil -->
<aside
  id="mobile-menu"
  class="fixed top-0 right-0 bottom-0 z-50 w-[40%] max-w-xs bg-slate-900 border-l border-slate-800 pt-16 px-5 md:hidden transition-transform duration-300 ease-out"
  [style.transform]="isMenuOpen ? 'translateX(0)' : 'translateX(100%)'"
  role="dialog"
  aria-modal="true"
  aria-label="Men√∫ de navegaci√≥n"
>
  <nav class="space-y-1">
    <a
      href="#about"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Sobre m√≠</a
    >
    <a
      href="#projects"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Proyectos</a
    >
    <a
      href="#services"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Servicios</a
    >
    <a
      href="#contact"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Contacto</a
    >
  </nav>
</aside>
