<!-- Header fijo -->
<header
  class="fixed inset-x-0 top-0 z-50 h-14 md:h-16 bg-slate-900/95 backdrop-blur border-b border-slate-800"
>
  <nav class="max-w-6xl mx-auto h-full px-4 flex items-center justify-between">
    <!-- Logo -->
    <a
      href="#home"
      (click)="closeMenu()"
      class="inline-flex items-center"
      aria-label="Ir a inicio"
    >
      <img src="assets/logo-yrh.png" alt="Logo" class="h-7 md:h-8 w-auto" />
    </a>

    <!-- Desktop nav -->
    <ul class="hidden md:flex items-center gap-8 text-sm font-medium">
      <li>
        <a href="#about" class="text-slate-200/90 hover:text-white transition"
          >Sobre m√≠</a
        >
      </li>
      <li>
        <a
          href="#projects"
          class="text-slate-200/90 hover:text-white transition"
          >Proyectos</a
        >
      </li>
      <li>
        <a
          href="#services"
          class="text-slate-200/90 hover:text-white transition"
          >Servicios</a
        >
      </li>
      <li>
        <a href="#contact" class="text-slate-200/90 hover:text-white transition"
          >Contacto</a
        >
      </li>
      <li>
        <button
          (click)="toggleDark()"
          class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-800 text-slate-200 ring-1 ring-slate-700 hover:bg-slate-700 transition"
          aria-label="Cambiar tema"
        >
          <span>{{ isDark ? 'üåô' : '‚òÄÔ∏è' }}</span>
          <span class="hidden sm:inline"
            >{{ isDark ? 'Oscuro' : 'Claro' }}</span
          >
        </button>
      </li>
    </ul>

    <!-- Bot√≥n hamburguesa (m√≥vil) -->
    <button
      class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg text-slate-200 hover:bg-slate-800/60 focus:outline-none focus:ring-2 focus:ring-blue-400"
      (click)="toggleMenu()"
      [attr.aria-expanded]="isMenuOpen"
      aria-controls="mobile-menu"
      aria-label="Abrir men√∫"
    >
      @if (isMenuOpen) {
      <svg
        class="h-6 w-6"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-width="2"
          d="M4 7h16M4 12h16M4 17h16"
        ></path>
      </svg>
      } @if (isMenuOpen) {
      <svg
        class="h-6 w-6"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-width="2"
          d="M6 6l12 12M18 6l-12 12"
        ></path>
      </svg>
      }
    </button>
  </nav>
</header>

<!-- Overlay (fuera del header para evitar stacking raros) -->
@if (isMenuOpen) {
<div
  class="fixed inset-0 z-40 bg-slate-900/60 backdrop-blur-sm md:hidden"
  (click)="closeMenu()"
></div>
}

<!-- Panel m√≥vil -->
<aside
  id="mobile-menu"
  class="fixed top-0 right-0 bottom-0 z-50 w-[85%] max-w-xs bg-slate-900 border-l border-slate-800 pt-16 md:pt-20 px-5 md:hidden transition-transform duration-300 ease-out"
  [style.transform]="isMenuOpen ? 'translateX(0)' : 'translateX(100%)'"
  role="dialog"
  aria-modal="true"
  aria-label="Men√∫ de navegaci√≥n"
>
  <nav class="space-y-1">
    <a
      href="#about"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Sobre m√≠</a
    >
    <a
      href="#projects"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Proyectos</a
    >
    <a
      href="#services"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Servicios</a
    >
    <a
      href="#contact"
      (click)="closeMenu()"
      class="block px-3 py-3 rounded-lg text-slate-200 hover:bg-slate-800/70"
      >Contacto</a
    >

    <div class="mt-3 border-t border-slate-800 pt-3">
      <button
        (click)="toggleDark()"
        class="w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-800 text-slate-200 ring-1 ring-slate-700 hover:bg-slate-700 transition"
      >
        <span>{{ isDark ? 'üåô' : '‚òÄÔ∏è' }}</span>
        <span>{{ isDark ? 'Modo oscuro' : 'Modo claro' }}</span>
      </button>
    </div>
  </nav>
</aside>
